<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Management System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 70px;
            background-color: #2a3647;
            color: white;
            height: 100vh;
            padding: 20px 0;
            transition: all 0.3s ease;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        .sidebar:hover {
            width: 250px;
            align-items: flex-start;
            padding-left: 20px;
        }

        .logo-container {
            display: flex;
            align-items: center;
            margin-bottom: 40px;
            width: 100%;
            justify-content: center;
        }

        .sidebar:hover .logo-container {
            justify-content: flex-start;
            padding-left: 10px;
        }

        .logo {
            width: 40px;
            height: 40px;
            background-color: #1a2533;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: #fff;
        }

        .logo-text {
            margin-left: 15px;
            font-size: 18px;
            font-weight: 600;
            display: none;
        }

        .sidebar:hover .logo-text {
            display: block;
        }

        .nav-menu {
            width: 100%;
            display: flex;
            flex-direction: column;
        }

        .menu-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            margin-bottom: 5px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            width: calc(100% - 10px);
            color: #d1d5db;
        }

        .menu-item:hover {
            background-color: #1a2533;
            color: white;
        }

        .menu-item.active {
            background-color: #1a2533;
            color: white;
        }

        .menu-icon {
            font-size: 18px;
            min-width: 30px;
            display: flex;
            justify-content: center;
        }

        .menu-text {
            margin-left: 10px;
            font-size: 14px;
            font-weight: 500;
            display: none;
            white-space: nowrap;
        }

        .sidebar:hover .menu-text {
            display: block;
        }

        .menu-chevron {
            margin-left: auto;
            font-size: 12px;
            transition: transform 0.3s;
            display: none;
        }

        .sidebar:hover .menu-chevron {
            display: block;
        }

        .menu-item.active .menu-chevron {
            transform: rotate(180deg);
        }

        .divider {
            height: 1px;
            background-color: #3e4b5e;
            margin: 20px 0;
            width: 80%;
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            background-color: white;
        }

        .content-header {
            padding: 15px 20px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .content-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .tab-content {
            display: none;
            padding: 20px;
            overflow-y: auto;
            flex: 1;
        }

        .tab-content.active {
            display: block;
        }

        /* Common styles for all tabs */
        .input-section {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            overflow: hidden;
            border-bottom: 1px solid #ddd;
            padding-bottom: 15px;
        }

        .input-section.collapsed {
            max-height: 0;
            margin-bottom: 0;
            opacity: 0;
            visibility: hidden;
            border-bottom: none;
            padding-bottom: 0;
        }

        .input-row {
            display: flex;
            gap: 10px;
            align-items: flex-end;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            min-width: 150px;
            flex-grow: 1;
        }

        .input-group label {
            font-size: 12px;
            margin-bottom: 4px;
            color: #555;
        }

        input, select, textarea {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 13px;
            width: 100%;
        }

        button {
            padding: 8px 15px;
            background-color: #1a73e8;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: filter 0.3s;
            font-size: 13px;
            height: fit-content;
        }

        button:hover {
            filter: brightness(0.9);
        }

        .new-item-btn {
            min-width: 120px;
            margin-right: 10px;
            padding: 8px 15px;
            font-size: 13px;
            background-color: #28a745;
        }

        .delete-btn {
            background-color: #dc3545;
            padding: 6px 12px;
        }

        .item-list {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .item-card {
            padding: 15px;
            background-color: white;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            position: relative;
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .item-title {
            font-weight: 600;
            font-size: 16px;
        }

        .item-controls {
            display: flex;
            gap: 8px;
        }

        .item-content {
            font-size: 14px;
            color: #555;
        }

        .search-container {
            display: inline-flex;
            flex-grow: 1;
            margin-bottom: 0;
            align-items: center;
        }

        .search-bar {
            flex-grow: 1;
            max-width: 400px;
            margin-left: 10px;
        }

        @media (max-width: 768px) {
            body {
                flex-direction: column;
                height: auto;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                flex-direction: row;
                padding: 10px;
                align-items: center;
            }
            
            .sidebar:hover {
                width: 100%;
                height: auto;
            }
            
            .logo-container {
                margin-bottom: 0;
                margin-right: 20px;
            }
            
            .nav-menu {
                flex-direction: row;
                overflow-x: auto;
            }
            
            .menu-item {
                margin-bottom: 0;
                margin-right: 5px;
                padding: 10px;
            }
            
            .menu-text {
                display: none !important;
            }
            
            .divider {
                display: none;
            }
            
            .main-content {
                height: auto;
            }
            
            .input-row {
                flex-direction: column;
            }
            
            button {
                padding: 6px 12px;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="logo-container">
            <div class="logo">S</div>
            <div class="logo-text">Management System</div>
        </div>
        
        <div class="nav-menu">
            <div class="menu-item active" onclick="setActive(this); showTab('dashboard')">
                <div class="menu-icon"><i class="fas fa-home"></i></div>
                <div class="menu-text">Dashboard</div>
                <div class="menu-chevron"><i class="fas fa-chevron-down"></i></div>
            </div>
            
            <div class="menu-item" onclick="setActive(this); showTab('tasks')">
                <div class="menu-icon"><i class="fas fa-tasks"></i></div>
                <div class="menu-text">Tasks</div>
                <div class="menu-chevron"><i class="fas fa-chevron-down"></i></div>
            </div>
            
            <div class="menu-item" onclick="setActive(this); showTab('notes')">
                <div class="menu-icon"><i class="fas fa-sticky-note"></i></div>
                <div class="menu-text">Notes</div>
                <div class="menu-chevron"><i class="fas fa-chevron-down"></i></div>
            </div>
            
            <div class="menu-item" onclick="setActive(this); showTab('contacts')">
                <div class="menu-icon"><i class="fas fa-address-book"></i></div>
                <div class="menu-text">Contacts</div>
                <div class="menu-chevron"><i class="fas fa-chevron-down"></i></div>
            </div>
            
            <div class="menu-item" onclick="setActive(this); showTab('processes')">
                <div class="menu-icon"><i class="fas fa-project-diagram"></i></div>
                <div class="menu-text">Processes</div>
                <div class="menu-chevron"><i class="fas fa-chevron-down"></i></div>
            </div>
            
            <div class="menu-item" onclick="setActive(this); showTab('calendar')">
                <div class="menu-icon"><i class="fas fa-calendar-alt"></i></div>
                <div class="menu-text">Calendar</div>
                <div class="menu-chevron"><i class="fas fa-chevron-down"></i></div>
            </div>
            
            <div class="divider"></div>
            
            <div class="menu-item" onclick="setActive(this); showTab('settings')">
                <div class="menu-icon"><i class="fas fa-cog"></i></div>
                <div class="menu-text">Settings</div>
                <div class="menu-chevron"><i class="fas fa-chevron-down"></i></div>
            </div>
        </div>
    </div>

    <div class="main-content">
        <div class="content-header">
            <div class="content-title" id="contentTitle">Dashboard</div>
            <div class="search-container" id="searchContainer" style="display: none;">
                <input type="text" class="search-bar" id="globalSearch" placeholder="Search...">
            </div>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <h2>Dashboard</h2>
            <p>Welcome to your management system. Select a tab to get started.</p>
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
                <div class="item-card">
                    <h3>Quick Stats</h3>
                    <p>Tasks: <span id="taskCount">0</span></p>
                    <p>Notes: <span id="noteCount">0</span></p>
                    <p>Contacts: <span id="contactCount">0</span></p>
                    <p>Processes: <span id="processCount">0</span></p>
                </div>
                <div class="item-card">
                    <h3>Recent Activity</h3>
                    <div id="recentActivity"></div>
                </div>
            </div>
        </div>

        <!-- Tasks Tab -->
        <div id="tasks" class="tab-content">
            <div style="display: flex; align-items: center; margin-bottom: 15px;">
                <button class="new-item-btn" onclick="toggleInputs('tasks')">
                    <i class="fas fa-plus"></i> New Task
                </button>
            </div>
            
            <div class="input-section collapsed" id="taskInputSection">
                <div class="input-row">
                    <div class="input-group">
                        <input type="text" id="taskTitle" placeholder="Task title">
                    </div>
                    <div class="input-group">
                        <label for="taskPriority">Priority</label>
                        <select id="taskPriority">
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                </div>
                <div class="input-row">
                    <div class="input-group">
                        <label for="taskDueDate">Due Date</label>
                        <input type="date" id="taskDueDate">
                    </div>
                    <div class="input-group">
                        <label for="taskStatus">Status</label>
                        <select id="taskStatus">
                            <option value="not-started">Not Started</option>
                            <option value="in-progress">In Progress</option>
                            <option value="completed">Completed</option>
                        </select>
                    </div>
                </div>
                <div class="input-group">
                    <label for="taskDescription">Description</label>
                    <textarea id="taskDescription" rows="3" placeholder="Task description"></textarea>
                </div>
                <div class="input-row">
                    <button onclick="addTask()">Add Task</button>
                    <button onclick="toggleInputs('tasks')" style="background-color: #6c757d;">Cancel</button>
                </div>
            </div>
            
            <div class="item-list" id="tasksList"></div>
        </div>

        <!-- Notes Tab -->
        <div id="notes" class="tab-content">
            <div style="display: flex; align-items: center; margin-bottom: 15px;">
                <button class="new-item-btn" onclick="toggleInputs('notes')">
                    <i class="fas fa-plus"></i> New Note
                </button>
            </div>
            
            <div class="input-section collapsed" id="noteInputSection">
                <div class="input-row">
                    <div class="input-group">
                        <input type="text" id="noteTitle" placeholder="Note title">
                    </div>
                    <div class="input-group">
                        <label for="noteCategory">Category</label>
                        <select id="noteCategory">
                            <option value="general">General</option>
                            <option value="work">Work</option>
                            <option value="personal">Personal</option>
                            <option value="ideas">Ideas</option>
                        </select>
                    </div>
                </div>
                <div class="input-group">
                    <label for="noteContent">Content</label>
                    <textarea id="noteContent" rows="5" placeholder="Note content"></textarea>
                </div>
                <div class="input-row">
                    <button onclick="addNote()">Add Note</button>
                    <button onclick="toggleInputs('notes')" style="background-color: #6c757d;">Cancel</button>
                </div>
            </div>
            
            <div class="item-list" id="notesList"></div>
        </div>

        <!-- Contacts Tab -->
        <div id="contacts" class="tab-content">
            <div style="display: flex; align-items: center; margin-bottom: 15px;">
                <button class="new-item-btn" onclick="toggleInputs('contacts')">
                    <i class="fas fa-plus"></i> New Contact
                </button>
            </div>
            
            <div class="input-section collapsed" id="contactInputSection">
                <div class="input-row">
                    <div class="input-group">
                        <input type="text" id="contactName" placeholder="Full name">
                    </div>
                    <div class="input-group">
                        <input type="text" id="contactCompany" placeholder="Company">
                    </div>
                </div>
                <div class="input-row">
                    <div class="input-group">
                        <input type="email" id="contactEmail" placeholder="Email">
                    </div>
                    <div class="input-group">
                        <input type="tel" id="contactPhone" placeholder="Phone">
                    </div>
                </div>
                <div class="input-group">
                    <label for="contactNotes">Notes</label>
                    <textarea id="contactNotes" rows="2" placeholder="Additional information"></textarea>
                </div>
                <div class="input-row">
                    <button onclick="addContact()">Add Contact</button>
                    <button onclick="toggleInputs('contacts')" style="background-color: #6c757d;">Cancel</button>
                </div>
            </div>
            
            <div class="item-list" id="contactsList"></div>
        </div>

        <!-- Processes Tab -->
        <div id="processes" class="tab-content">
            <div style="display: flex; align-items: center; margin-bottom: 15px;">
                <button class="new-item-btn" onclick="toggleInputs('processes')">
                    <i class="fas fa-plus"></i> New Process
                </button>
            </div>
            
            <div class="input-section collapsed" id="processInputSection">
                <div class="input-row">
                    <div class="input-group">
                        <input type="text" id="processName" placeholder="Process name">
                    </div>
                    <div class="input-group">
                        <label for="processCategory">Category</label>
                        <select id="processCategory">
                            <option value="operations">Operations</option>
                            <option value="sales">Sales</option>
                            <option value="marketing">Marketing</option>
                            <option value="hr">Human Resources</option>
                        </select>
                    </div>
                </div>
                <div class="input-group">
                    <label for="processDescription">Description</label>
                    <textarea id="processDescription" rows="3" placeholder="Process description"></textarea>
                </div>
                <div class="input-group">
                    <label for="processSteps">Steps</label>
                    <textarea id="processSteps" rows="5" placeholder="Step-by-step instructions"></textarea>
                </div>
                <div class="input-row">
                    <button onclick="addProcess()">Add Process</button>
                    <button onclick="toggleInputs('processes')" style="background-color: #6c757d;">Cancel</button>
                </div>
            </div>
            
            <div class="item-list" id="processesList"></div>
        </div>

        <!-- Calendar Tab -->
        <div id="calendar" class="tab-content">
            <h2>Calendar</h2>
            <p>This would contain your calendar view and scheduling tools.</p>
        </div>

        <!-- Settings Tab -->
        <div id="settings" class="tab-content">
            <h2>Settings</h2>
            <div class="item-card" style="max-width: 600px;">
                <h3>Application Settings</h3>
                <div class="input-group" style="margin-bottom: 15px;">
                    <label for="themeSelect">Theme</label>
                    <select id="themeSelect">
                        <option value="light">Light</option>
                        <option value="dark">Dark</option>
                        <option value="system">System Default</option>
                    </select>
                </div>
                <div class="input-group" style="margin-bottom: 15px;">
                    <label for="notifications">Enable Notifications</label>
                    <input type="checkbox" id="notifications" checked>
                </div>
                <button onclick="saveSettings()">Save Settings</button>
            </div>
        </div>
    </div>

    <script>
        // Data storage
        let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
        let notes = JSON.parse(localStorage.getItem('notes')) || [];
        let contacts = JSON.parse(localStorage.getItem('contacts')) || [];
        let processes = JSON.parse(localStorage.getItem('processes')) || [];
        let settings = JSON.parse(localStorage.getItem('settings')) || {
            theme: 'light',
            notifications: true
        };

        // Sidebar functionality
        function setActive(clickedItem) {
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });
            clickedItem.classList.add('active');
        }

        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
            
            const titleMap = {
                'dashboard': 'Dashboard',
                'tasks': 'Tasks',
                'notes': 'Notes',
                'contacts': 'Contacts',
                'processes': 'Processes',
                'calendar': 'Calendar',
                'settings': 'Settings'
            };
            document.getElementById('contentTitle').textContent = titleMap[tabName];
            
            // Show search bar only for list-based tabs
            const searchContainer = document.getElementById('searchContainer');
            searchContainer.style.display = ['tasks', 'notes', 'contacts', 'processes'].includes(tabName) ? 'inline-flex' : 'none';
            
            // Load appropriate data when tab is shown
            if (tabName === 'tasks') renderTasks();
            else if (tabName === 'notes') renderNotes();
            else if (tabName === 'contacts') renderContacts();
            else if (tabName === 'processes') renderProcesses();
            else if (tabName === 'dashboard') updateDashboard();
        }

        // Toggle input sections
        function toggleInputs(tab) {
            const inputSection = document.getElementById(`${tab}InputSection`);
            const toggleBtn = document.querySelector(`#${tab} .new-item-btn`);
            
            inputSection.classList.toggle('collapsed');
            toggleBtn.innerHTML = inputSection.classList.contains('collapsed') 
                ? `<i class="fas fa-plus"></i> New ${tab.charAt(0).toUpperCase() + tab.slice(1)}` 
                : 'Hide Form';
        }

        // Task functions
        function addTask() {
            const task = {
                id: Date.now(),
                title: document.getElementById('taskTitle').value.trim(),
                priority: document.getElementById('taskPriority').value,
                dueDate: document.getElementById('taskDueDate').value,
                status: document.getElementById('taskStatus').value,
                description: document.getElementById('taskDescription').value.trim(),
                createdAt: new Date().toISOString()
            };

            if (!task.title) return;

            tasks.push(task);
            saveTasks();
            renderTasks();
            toggleInputs('tasks');
            clearTaskForm();
            updateDashboard();
        }

        function renderTasks(filteredTasks = tasks) {
            const tasksList = document.getElementById('tasksList');
            tasksList.innerHTML = '';
            
            if (filteredTasks.length === 0) {
                tasksList.innerHTML = '<p>No tasks found. Create your first task!</p>';
                return;
            }
            
            filteredTasks.forEach(task => {
                const taskElement = document.createElement('div');
                taskElement.className = 'item-card';
                taskElement.innerHTML = `
                    <div class="item-header">
                        <div class="item-title">${task.title}</div>
                        <div class="item-controls">
                            <button class="delete-btn" onclick="deleteItem('task', ${task.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="item-content">
                        <p><strong>Priority:</strong> ${task.priority}</p>
                        <p><strong>Status:</strong> ${task.status}</p>
                        ${task.dueDate ? `<p><strong>Due Date:</strong> ${new Date(task.dueDate).toLocaleDateString()}</p>` : ''}
                        ${task.description ? `<p>${task.description}</p>` : ''}
                    </div>
                `;
                tasksList.appendChild(taskElement);
            });
        }

        function clearTaskForm() {
            document.getElementById('taskTitle').value = '';
            document.getElementById('taskPriority').value = 'medium';
            document.getElementById('taskDueDate').value = '';
            document.getElementById('taskStatus').value = 'not-started';
            document.getElementById('taskDescription').value = '';
        }

        // Note functions
        function addNote() {
            const note = {
                id: Date.now(),
                title: document.getElementById('noteTitle').value.trim(),
                category: document.getElementById('noteCategory').value,
                content: document.getElementById('noteContent').value.trim(),
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };

            if (!note.title) return;

            notes.push(note);
            saveNotes();
            renderNotes();
            toggleInputs('notes');
            clearNoteForm();
            updateDashboard();
        }

        function renderNotes(filteredNotes = notes) {
            const notesList = document.getElementById('notesList');
            notesList.innerHTML = '';
            
            if (filteredNotes.length === 0) {
                notesList.innerHTML = '<p>No notes found. Create your first note!</p>';
                return;
            }
            
            filteredNotes.forEach(note => {
                const noteElement = document.createElement('div');
                noteElement.className = 'item-card';
                noteElement.innerHTML = `
                    <div class="item-header">
                        <div class="item-title">${note.title}</div>
                        <div class="item-controls">
                            <button class="delete-btn" onclick="deleteItem('note', ${note.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="item-content">
                        <p><strong>Category:</strong> ${note.category}</p>
                        <p>${note.content}</p>
                        <p style="font-size: 0.8em; color: #777; margin-top: 10px;">
                            Last updated: ${new Date(note.updatedAt).toLocaleString()}
                        </p>
                    </div>
                `;
                notesList.appendChild(noteElement);
            });
        }

        function clearNoteForm() {
            document.getElementById('noteTitle').value = '';
            document.getElementById('noteCategory').value = 'general';
            document.getElementById('noteContent').value = '';
        }

        // Contact functions
        function addContact() {
            const contact = {
                id: Date.now(),
                name: document.getElementById('contactName').value.trim(),
                company: document.getElementById('contactCompany').value.trim(),
                email: document.getElementById('contactEmail').value.trim(),
                phone: document.getElementById('contactPhone').value.trim(),
                notes: document.getElementById('contactNotes').value.trim(),
                createdAt: new Date().toISOString()
            };

            if (!contact.name) return;

            contacts.push(contact);
            saveContacts();
            renderContacts();
            toggleInputs('contacts');
            clearContactForm();
            updateDashboard();
        }

        function renderContacts(filteredContacts = contacts) {
            const contactsList = document.getElementById('contactsList');
            contactsList.innerHTML = '';
            
            if (filteredContacts.length === 0) {
                contactsList.innerHTML = '<p>No contacts found. Add your first contact!</p>';
                return;
            }
            
            filteredContacts.forEach(contact => {
                const contactElement = document.createElement('div');
                contactElement.className = 'item-card';
                contactElement.innerHTML = `
                    <div class="item-header">
                        <div class="item-title">${contact.name}</div>
                        <div class="item-controls">
                            <button class="delete-btn" onclick="deleteItem('contact', ${contact.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="item-content">
                        ${contact.company ? `<p><strong>Company:</strong> ${contact.company}</p>` : ''}
                        ${contact.email ? `<p><strong>Email:</strong> ${contact.email}</p>` : ''}
                        ${contact.phone ? `<p><strong>Phone:</strong> ${contact.phone}</p>` : ''}
                        ${contact.notes ? `<p>${contact.notes}</p>` : ''}
                    </div>
                `;
                contactsList.appendChild(contactElement);
            });
        }

        function clearContactForm() {
            document.getElementById('contactName').value = '';
            document.getElementById('contactCompany').value = '';
            document.getElementById('contactEmail').value = '';
            document.getElementById('contactPhone').value = '';
            document.getElementById('contactNotes').value = '';
        }

        // Process functions
        function addProcess() {
            const process = {
                id: Date.now(),
                name: document.getElementById('processName').value.trim(),
                category: document.getElementById('processCategory').value,
                description: document.getElementById('processDescription').value.trim(),
                steps: document.getElementById('processSteps').value.trim(),
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };

            if (!process.name) return;

            processes.push(process);
            saveProcesses();
            renderProcesses();
            toggleInputs('processes');
            clearProcessForm();
            updateDashboard();
        }

        function renderProcesses(filteredProcesses = processes) {
            const processesList = document.getElementById('processesList');
            processesList.innerHTML = '';
            
            if (filteredProcesses.length === 0) {
                processesList.innerHTML = '<p>No processes found. Create your first process!</p>';
                return;
            }
            
            filteredProcesses.forEach(process => {
                const processElement = document.createElement('div');
                processElement.className = 'item-card';
                processElement.innerHTML = `
                    <div class="item-header">
                        <div class="item-title">${process.name}</div>
                        <div class="item-controls">
                            <button class="delete-btn" onclick="deleteItem('process', ${process.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="item-content">
                        <p><strong>Category:</strong> ${process.category}</p>
                        ${process.description ? `<p>${process.description}</p>` : ''}
                        <div style="margin-top: 10px;">
                            <h4 style="margin-bottom: 5px;">Steps:</h4>
                            <div style="white-space: pre-line;">${process.steps}</div>
                        </div>
                        <p style="font-size: 0.8em; color: #777; margin-top: 10px;">
                            Last updated: ${new Date(process.updatedAt).toLocaleString()}
                        </p>
                    </div>
                `;
                processesList.appendChild(processElement);
            });
        }

        function clearProcessForm() {
            document.getElementById('processName').value = '';
            document.getElementById('processCategory').value = 'operations';
            document.getElementById('processDescription').value = '';
            document.getElementById('processSteps').value = '';
        }

        // Common functions
        function deleteItem(type, id) {
            if (!confirm(`Are you sure you want to delete this ${type}?`)) return;
            
            switch(type) {
                case 'task':
                    tasks = tasks.filter(task => task.id !== id);
                    saveTasks();
                    renderTasks();
                    break;
                case 'note':
                    notes = notes.filter(note => note.id !== id);
                    saveNotes();
                    renderNotes();
                    break;
                case 'contact':
                    contacts = contacts.filter(contact => contact.id !== id);
                    saveContacts();
                    renderContacts();
                    break;
                case 'process':
                    processes = processes.filter(process => process.id !== id);
                    saveProcesses();
                    renderProcesses();
                    break;
            }
            
            updateDashboard();
        }

        // Dashboard functions
        function updateDashboard() {
            document.getElementById('taskCount').textContent = tasks.length;
            document.getElementById('noteCount').textContent = notes.length;
            document.getElementById('contactCount').textContent = contacts.length;
            document.getElementById('processCount').textContent = processes.length;
            
            const recentActivity = document.getElementById('recentActivity');
            recentActivity.innerHTML = '';
            
            // Combine all items and sort by creation date
            const allItems = [
                ...tasks.map(task => ({ ...task, type: 'task' })),
                ...notes.map(note => ({ ...note, type: 'note' })),
                ...contacts.map(contact => ({ ...contact, type: 'contact' })),
                ...processes.map(process => ({ ...process, type: 'process' }))
            ].sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)).slice(0, 5);
            
            if (allItems.length === 0) {
                recentActivity.innerHTML = '<p>No recent activity</p>';
                return;
            }
            
            allItems.forEach(item => {
                const activityItem = document.createElement('div');
                activityItem.style.marginBottom = '10px';
                activityItem.style.paddingBottom = '10px';
                activityItem.style.borderBottom = '1px solid #eee';
                
                let icon, action;
                switch(item.type) {
                    case 'task':
                        icon = 'fa-tasks';
                        action = 'Task created';
                        break;
                    case 'note':
                        icon = 'fa-sticky-note';
                        action = 'Note created';
                        break;
                    case 'contact':
                        icon = 'fa-address-book';
                        action = 'Contact added';
                        break;
                    case 'process':
                        icon = 'fa-project-diagram';
                        action = 'Process created';
                        break;
                }
                
                activityItem.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <i class="fas ${icon}" style="color: #666;"></i>
                        <div>
                            <div style="font-weight: 500;">${action}: ${item.title || item.name}</div>
                            <div style="font-size: 0.8em; color: #777;">
                                ${new Date(item.createdAt).toLocaleString()}
                            </div>
                        </div>
                    </div>
                `;
                recentActivity.appendChild(activityItem);
            });
        }

        // Settings functions
        function loadSettings() {
            document.getElementById('themeSelect').value = settings.theme;
            document.getElementById('notifications').checked = settings.notifications;
        }

        function saveSettings() {
            settings.theme = document.getElementById('themeSelect').value;
            settings.notifications = document.getElementById('notifications').checked;
            localStorage.setItem('settings', JSON.stringify(settings));
            alert('Settings saved successfully!');
        }

        // Data persistence
        function saveTasks() { localStorage.setItem('tasks', JSON.stringify(tasks)); }
        function saveNotes() { localStorage.setItem('notes', JSON.stringify(notes)); }
        function saveContacts() { localStorage.setItem('contacts', JSON.stringify(contacts)); }
        function saveProcesses() { localStorage.setItem('processes', JSON.stringify(processes)); }

        // Search functionality
        document.getElementById('globalSearch').addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            const activeTab = document.querySelector('.tab-content.active').id;
            
            switch(activeTab) {
                case 'tasks':
                    renderTasks(tasks.filter(task => 
                        task.title.toLowerCase().includes(searchTerm) || 
                        task.description.toLowerCase().includes(searchTerm)
                    ));
                    break;
                case 'notes':
                    renderNotes(notes.filter(note => 
                        note.title.toLowerCase().includes(searchTerm) || 
                        note.content.toLowerCase().includes(searchTerm)
                    ));
                    break;
                case 'contacts':
                    renderContacts(contacts.filter(contact => 
                        contact.name.toLowerCase().includes(searchTerm) || 
                        contact.company.toLowerCase().includes(searchTerm) || 
                        contact.email.toLowerCase().includes(searchTerm) || 
                        contact.phone.toLowerCase().includes(searchTerm)
                    ));
                    break;
                case 'processes':
                    renderProcesses(processes.filter(process => 
                        process.name.toLowerCase().includes(searchTerm) || 
                        process.description.toLowerCase().includes(searchTerm) || 
                        process.steps.toLowerCase().includes(searchTerm)
                    ));
                    break;
            }
        });

        // Initialization
        window.onload = () => {
            // Load data
            renderTasks();
            renderNotes();
            renderContacts();
            renderProcesses();
            loadSettings();
            updateDashboard();
            
            // Set dashboard as default active tab
            document.querySelector('.menu-item:nth-child(1)').classList.add('active');
            document.getElementById('dashboard').classList.add('active');
        };
    </script>
</body>
</html>
